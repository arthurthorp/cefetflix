<!DOCTYPE html>
<html>
<head>
	<title>Ceflix</title>
	<meta charset="utf-8">
	<link href="https://fonts.googleapis.com/css?family=Oswald" rel="stylesheet">
	<script type="text/javascript" src="./js/filmes.js"></script>
	<script type="text/javascript" src="./js/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="./css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="./css/filmes.css">
	<script type="text/javascript">
		$(function(){
			console.log(filmes);
			$.each(filmes, function(indice, programa){
				var $ul= $("<ul />");
				var $ele= $("<ul />");
				var $seme= $("<ul />");

			$.each(programa.elenco, function(i, ator){
				$ele.append($("<li/>").text(ator.elenco))
			});
				$.each(programa.titulosSemelhantes, function(i, tituloId){
					$.each(filmes, function(i, semelhante){
						
						if(semelhante.titulo.length==0){
							$seme.append("<li />").text("Nenhum título semelhante")
						}
						else{
								if(tituloId==semelhante.id){
								$seme.append($("<li />").text(semelhante.titulo))
								}
						}	
					})
					
				});

				$.each(programa.opinioes, function(i, obj){
					for ($i=0; $i< obj.rating; $i++){
						$ul.append($("<i />").addClass("fa fa-star"));
					}	
					$ul.append($("<li />").text(obj.descricao));
				});
				$(".filmes")
					.append($("<div />")
						.addClass("filme")
						.append($("<img />")
								.attr("src", programa.figura)
						)
						.append($("<div />")
							.addClass("descricao")
							.append($("<h1 />")
									.text(programa.titulo)
							)
							
							.append($("<p />")
									.text(programa.resumo)
							)
							.append($("<div />")
								.addClass("genero")
								.append($("<h4 />")
									.text(programa.generos))	
								)
							.append($("<div />").addClass("elenco")
								
								.append($("<h2 />")
									.text("Elenco")
								)
									.append($("<p />")
										.text(programa.elenco)
								)
							)
							
							.append($("<div />").addClass("classifi")
								
								.append($("<h2 />")
									.text("Classificação indicativa")
								)
									.append($("<p />")
										.text(programa.classificacao)
								)
							)
							

							.append($("<div />")
								.addClass("av")
								.append($("<h2 />")
									.text("Avaliações")	
									)
								.append($ul)
									
							
							)
								
							.append($("<div />")
								.addClass("ts")
									.append($("<h2 />")
									.text("Títulos semelhantes")
									
								)
							.append($seme)
							)
						)
					)
			});
		})
	</script>
</head>
<body>
	<div class="logo">
	<h1>Cefetflix</h1>
	</div>
	<div class="filmes">
		
	</div>
</body>
</html>